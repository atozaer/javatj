어 상속에서 클래스 생성과정을 한번보고 어떻게 할클래스만 생성했는데도 상위클래스의 멤버변수나 

메서드를 호출해서 쓸수 있는지에 대해서 이해를 해봐야겠죠 자 보시면 하위클래스가 생성되는 과정을 

보시면 먼저 이해하시면 될것 같습니다. 하위클래스를 생성을 하면 항상 상위클래스를 먼저  생성이 돼요

우리가 익스탠즈 키워드를 섰기 때문에 vip는 커스토머로부터 상속을 받았다라는거를 알죠 그렇게 되면

vip 커스토머의 생성자에서 먼저 커스토머의 생성자를 호출하게 됩니다. 네 그래서 네 이게 진짜 그런가

라고 보기 위해서 우리가 그러면 거기 코드에 직접 로고를 한번 넣어볼게요 자 3강이죠 패키지

kr.or.kh03 만드시고 이커스토머 같은 커스토머지만 애는 kh02에서 커스토머구요 애는 kh03커스토머거든요

커스토지만 다른이름인거죠 kh02 파일을 복사해서 kh03으로 이동을 시키겠습니다. 

public Customer(){

System.out.println("Customer() call");
} 
그리고 VIP 커스토머쪽에도 있죠 
public VIPCustomer(){

System.out.println("VIPCustomer() call");
}
애가 호출되었라는걸 보여드리도록 하겠습니다. 테스트코드 메인가셔서 커스토머는 부르지 말고 주석처리하고

VIP커스토머만 호출을 해보겠습니다. 실행을 해보시면 Customer() call, VIPCustomer() call콜, 김유신의등급은 

VIP이며, 보너스포인트는 10000입니다.  출력이 나옵니다. 어  VIP커스토머가 생기기전에 커스터머쪽에 생성자가

먼저 호출된거를 보실수가 있고 커스토머에 생성자가 먼저 생성이 되서 커스토머가 생성된 다음에 VIP가 생성이 

됩니다. 그렇기 때문에 이름과 아이디를 모두 쓸수가 있는 거죠 자 여기서 그럼 하나의 의문이 생기죠 

VIP 생성자 안에 아무 코드도 없는데 어떻게 커스토머가 호출이 된거냐 네 그 클래스 생성자가 있잖아요

클래스 생성자가 상속을 받은 경우에는 우리가 나중에 이젠 자바클래스를 좀더 공부하면 모든클래스는 

오브젝트로부터 상속을 받는데 그건 나중에 애기하더라도 지금 커스토머로부터 상속을 명시적으로 

받고 있죠 그러면 애가 상속을 받기 때문에 VIP커스토머생성자함수는 상위클래스의 생성자를 호출을 해야 해요

근데 상위클래스의 컨스트럭터를 호출해야 할 코드가 없죠 없으면 애도 역시 자바 컴파일러가 뭘 넣주냐면 

super(); 이렇게 넣어줍니다. 슈퍼죠 네 우리 이전에 디스라는 키워드 했었는데 디스는 인스턴스가 자기자신의 

주소를 가지고 있을때 클래스가 생성된 인스턴스 자기자신의 주소를 갖고 있는 값이 디스라고 했고 디스의 

또다른 기능중에 어 생성자를 호출할수 있는 기능 자기 클래스의 다른생성자를 호출할수 있는 기능이 있다.

라고 했는데 슈퍼키워드는 하위클래스가 상위클래스 인스턴스의 참조값을 가지게 됩니다. 그래서 여기서 

슈퍼점하면 함수내에서 이렇게 다볼수가 있어요 메서드같은것도 호출할수가 있습니다. 네 그냥 써도 되지만

그래서 상위클래스의 참조값을 가지고 있는데 애가 또 디스와 마찬가지로 어떤 기능을 갖고 있느냐 생성자를 

호출할수 있는 기능이 있어요 그리고 요렇게 super()아무것도 안들어갈수있는 경우에 당연히 디폴트 생성자가 

호출이 되는거죠 그런데 이코드를 이제는 안써도 됩니다. 안써도 누가 써주냐 컴파일러가 넣어줍니다. 컴파일러가

디폴트컨스트럭터를 아무것도 없을때 디폴트컨스트럭터를 넣어주듯이 상위클래스를 호출하는 코드가 하나도 

없으면 생성자를 호출하는 코드가 하나도 없으면 super키워드를 자동적으로 넣어줘요 제가 직접써도 상관은 

없습니다. 이렇게 직접 쓰는 일은 거의 없죠 그렇게 하고 그러면 뭐가 호출이 되냐 커스토머 생성자 내부가 

호출이 되는거죠 이게 디폴트 컨스트럭터죠 제가 코딩을 넣었을 뿐이지 런 실행해 보시면 출력이 잘나옵니다.

네 이렇게 호출이 되는거를 아실수가 있습니다. 그래서 슈퍼라는 컨스트럭터 상위클래스의 컨스트럭터를 호출하는 

게 자동으로 들어간다. 라는거를 아실수가 있죠 자그럼 이건경우를 한번 생각을 해볼까요 제가 커스토머 이쪽에 

어 생각을 해보니까 디폴트컨스트럭터를 제공을 하고 싶지 않고 주석처리를 하시고 컨스트럭터를 하나 만들었어요

그래서 생성을 할때 public Customer(int customerID, String customerName){
	this.customerID = customerID;
	this.customerNam = customerName;
	customerGrade = "SILVER";
	bonusRatio = 0.01;  
} 
자 요런생성자를 만들었어요 디폴트 생성자를 없앤거죠 이렇게 하고 만들고 나서 이렇게 저장을 하면 네

오류가 떨어지죠 오류가 떨어졌는데 네 일단 어디서 오류가 생겼냐면 VIP컨스트럭터에서 오류가 생겼습니다.

하위클래스에서 오류가 생겼죠 왜 오류가 생겼냐면 어 말슴드렸듯이 아무매개변수없는 디폴트컨스트럭터를 

호출 상위클레스를 호출안하면 이렇게 들어간다고 했죠 super(); 근데 상위클레스의 호출할 대상이 없지요 

네 없습니다. 네 우리가 안드로이드나 프로그램을 하다 보면 그 어떤 안드로이드 클래스를 상속을 받았는데 

생성자를 막 만들려고 하는코드가 있어요 강제적으로 여기에 클래스에 발깐줄의 경우는 뭐냐면 이런경우에요

상위클래스 생성자를 내가 명시적으로 호출해야 합니다. 네 그전에는 묵시적으로 컴파일러가 넣어줘서 호출이

됐다라고 하면 지금은 그렇게 호출될수 있는 컨스트럭터가 없기 때문에 이제 내가 명시적으로 호출을 해야 

된다는 거죠 super(0,null); 뭐 이렇게 넣을수도 있어요 이렇게 호출이 되겠죠 그죠 그런데 어 대부분은 어뗳게 

하냐면 좀 결을 맞추는 거죠 상위클래스가 내가 이걸 그냥 두고 싶어도 두고 싶으면 여기다가 값을 넣어줘야 

됩니다. 근데 나는 이렇게 하겠다. VIP커스토머에서 에러가 나요 너가 임플리시트하게 컨스트럭터가 불릴수가

없다. 그죠 이클립스가 이야기를 해주죠 그렇기 때문에 너가 익스플리시트하게 디파인을 해라 정의를 해라 

라는거죠 이클립스툴팁으로 만들어주면 생성자함수는 밑에 있는게 낮겠죠 그래서 요렇게 만들어집니다. 

그래서 일단 넣어도 내가 이걸 반드시 받아야 되는건 아닙니다. 내가 VIP커스토머생성자를 쓰고싶다 라고 하면

내가 불러주기만 하면 돼요 어째든 상위클래스가 먼저 만들어져야 되니까 super(0,"no-name");요렇게 해서

불러주기만 하면 됩니다. 요렇게 해도 되는데 그게 아니고 난 요렇게 해서 이름도 넣고 아이디도 넣겠다. 

라고 하면 super(customerID,customerName); 슈퍼생성자함수를 불러주시면 돼요 요렇게 부르면 어디로 

가냐면 당연히 커스토머 매개변수가있는 생성자로 당연히 가겠죠 아이디하고 이름은 요렇게 세팅이 됩니다.

세팅이 되는데 customerGrade등급과 bonusRatio비율은 이렇게 쓸게 아니죠 그러면 VIP컨스트럭터에 가셔서

등급과 비율을 복사붙여넣기 하시면돼요 등급은 VIP 비율은 5프로 0.05 세일레이셔도 있죠 위에걸 복사해서

아래에 붙여넣는다. 세일은 1프로 0.1 요값도 요렇게 넣어주겠다. 요렇게구현하시면 됩니다. 자그러면 요번에는 

애가 잘호출이 되는지 한번 볼까요 VIP커스토머 생성자함수는 주석처리할게요 VIP커스토머콜 메시지는 아래

매개변수가 있는 생성자로  붙여넣기 하고 System.out.println(int,String) call") 이 호출됐다. 매개변수가 다르니까 

요렇게 많이 씁니다. 커스토머생성자도 주석처리하고 아래 매개변수가 있는 생성자에 System.out.println(int,String) call);

호출됐다라고 쓰구요 저장을하시면 이제 어디서오류가 나냐면 테스트쪽에서 오류가 나는데 디폴트 컨스트럭터를 

우리가 다 없앴죠 그래서 커스토머 주석도 엽시다. 컨스트럭터가 없어졌으니까 생성자함수에 직접써주시면돼요

(10010,"이순신"); 그러면 set함수 두개가 필요없겠죠 삭제하고 (10020,"김유신") set함수 두개도 필요가 없습니다.

런 실행을 해보시면 네 출력이 잘나옵니다. 먼저 상위클래스의 컨스트럭터 호출이 됐고 그 다음에 요거 호출된다음에 

show인포찍은거죠 그다음에 하위클래스 호출됐는데 상위클래스호출되고 하위클래스호출되고 출력한거 보실수가 

있습니다. 그래서 우리가 기억해야 하는거는 하위클래스가 생성이 될때 상위클래스가 먼저 생성이 된다. 아무것도 없으면

디폴트로 슈퍼가 불러서 디폴트 컨스트럭터가생겨요 상위클래스에도 컨스트럭터가 없고 하위도 아무것도 없다. 

라고 하면 양쪽다 디폴트컨스트럭터가 추가되면서 하위에서 슈퍼를 호출을 하는거죠 그렇죠 그런데 매개변수가 있는 

컨스트럭터 컴파일러가 자동으로 호출해줄수있는 컨스트럭터가 존재하지 않는다. 묵시적으로 호출해줄수 있는 

컨스트럭터가 없으면 직접 명시적으로 호출하셔야 된다라는겁니다. 자 수업교안좀 보시면 슈퍼키워드에 대해서 

정리를 해놨어요 하위클래스에서 가지는 상위클래스의 참조값 컨스트럭터를 호출하는것이다. 이때 상위클래스의 

기본생성자가 존재해야 하거나 생성자가 하나도 없어도 돼요 그럼 컴파일러가 기본생성자를 넣어주니까  그죠 

상위클래스의 기본생성자가 없는경우 다른생성자가 있으면 컴파일러가 않넣어주잖아요 다른생성자를 넣고 

디폴트를 또 섰으면 상관이 없지만 디폴트를 안쓴경우에 다른 생성자가 있다라고 하면 하위클래스를 명시적으로

하위클래스의 생성자를 호출해야 된다. 슈퍼는 인스턴스값을 가지기 때문에 아까 보셨듯이 메서드를 호출할수도 있고

변수에도 접근할수가 있습니다. 음 예제는 같이 해본거구요 메모리상태를 좀 보도록 할게요 항상 상위클래스인스턴스

가 먼저 생성이 되잖아요 그러면 상위클래스의 멤버변수들이 있습니다. 네임 아이디 등급(그레이드) 보너스포인트

레이셔 이런거 있죠 애네들이 먼저 생성이 힙메모리에 돼요 그리고 나서 VIP쪽에 추가로 멤버변수들 있죠 

게네들의 값이 요쪽에 자리를 잡게 됩니다. 메모리구조로 보면 이런 상황으로 보시면 돼요 힙에 그렇기 때문에 

애가 다 만들어져 있기때문에 쓸수가 있는거구요 어 프라이빗인경우는 안만들어지냐 그렇지는 않습니다. 프라이빗

도 다 만들어지는데 접근을 못하는것 뿐이에요 애 접근을 못하는것 뿐이다. 라는거 그래서 접근할수있게 프로텍티드로 

바꿔졌죠 형변환을 마져 좀 말씀을 드리도록 할게요 인스턴스의 상속관계와 형변환을 같이 말씀을 드리는건 뭐냐면 

음 형변환이 뭐냐면요 상위클래스로 변수를 선언하고 하위클래스의 인스턴스의 생성자로 인스턴스를 생성합니다. 

어 말이 어려운데 이렇게 쓸수 있다는거에요 커스토머 타입으로 선언을 하고 NEW VIP 커스토머를 할수있다.

네 이렇게 할수 있는 이유가 뭐냐면 어 VIP커스토머를 생성을 하면 커스토머에 대한 부분을 다 내포하고  있는거죠

VIP커스토머는 커스토머타입을 내포하고 있다고 우리가 애기를 해요 그렇기 때문에 VIP커스토머가 커스토머로 대입이

되는거 이런식으로 바인딩이 된다라고 이야기를 했는데 이타입으로 형변환이 되는건 전혀 문제가 되지 않습니다. 

왜냐면 애는 커스토머이면서 플라스 VIP커스토머의 역할을 더갖고 있는 거죠 그러기 때문에 VIP커스토머에 인스턴스는 

커스토머타입으로 대입될수 있습니다. 대입될수 있구요 다르게 또 이야기를 하면 이렇게 볼수가 있는데 아 코드가 

연결이 됐는데요 한줄 띄워서 생각을 해보시면 VIP커스토머를 제가 만들었고 add커스토머라는 메소드로 호출을 

했어요 에드커스토머에 메소드를 보면 무슨타입으로 받아주냐면 커스토머 타입으로 받아줍니다. 그래도 이인자를 

넘길수가  있어요 앞에 VIP커스토머지만 커스토머타입으로 형변환이 될수 있기 때문에 이걸 다른말로  우리가 상위

클래스로 형변환이 된다. 업캐스팅이라고 하거든요 어 상위클래스로 형변환이 된게 업캐스팅이고 이미 상위클래스로 

형변환이 된게 원래 자기 인스턴스타입으로 오는거는 다운케시팅이라고 합니다. 어 그건 나중에 다시 말씀을 드릴거고

업캐스팅은 임플리시트하게 일어나요 커스토머클래스에 VIP커스토머를 대입할때 특별히 코드를 쓸필요가 없고 

앞에 클래스는 커스토머이기 때문이죠 그렇지만 모든 커스토머가 VIP인건 아니에요 모든 포유류가 사람인건 

아니잖아요 그렇기 때문에 이 역은 성립하지 않습니다. 하위클래스는 하위클래스타입을 내포하고 있기 때문에 

상위클래스의 묵시적 형변환이 가능합니다. 코드로 잠깐 볼게요 자 여기 테스트코드 요렇게 만들었었는데 

이게 가능하다는거죠 Customer vc = new VIPCoustomer(12345,"noname"); 내가 VIP커스토머로 생성을 했지만 

커스토머 타입으로 대입할수 있습니다. 형변환이 될수 있구요 그런데 이때 vc.점해보세요 점해서보시면 애는

뭐만 쓸수 있냐면 타입은 커스토머에요 인스턴스는 다 만들어졌어요 인스턴스는 VIP로 다만들어졌지만 

애가 타입이 뭘로 바인딩이 됐냐면 커스토머로 형변환이 됐잖아요 그랬기 때문에 애는 커스토머껐만 쓸수 

있습니다. 여기 멤버변수에서 보시면 에이젼트아이디나 세일즈레이셔는 보이지가 않아요 그죠 결국은 

애가 VIP인스턴스 상태라고 해도 커스토머로 타입으로 형변환이 되었으면 커스토머껐만 쓸수있다. 

변수는 자기 타입것만 쓰는거에요 만약에 나는 VIP거를 다써야 된다라고 하면 다시 다운케스팅을 해야 합니다.

다운캐스팅을 하거나 우리가 요 강의 다음에 재정의 오버라이딩 애기 할텐데 오버라이딩을 충분히 활용을 해서

또 사용을 할수가 있습니다. 메모리를 보면서 다시 말씀을 드리면 방금전에 요렇게 만들었죠 커스토머 vc = new 

VIP커스토머(); 근데 이때 vc가 가르치는게 뭐냐 말씀드렸듯이 VIP가 만들어졌지만 애가 타입이 커스토머이기

때문에 애가 접근할수 있는 부분은 요부분이다라는거에요 요부분 요부분이다 라는거 아래 이렇게 커스토머

라는 부분만 사용할수 있다 라는겁니다. 어 이거를 인제 계속 말씀드리는 이유가 뭐냐면 여러분들이 상속 관계에서

혼동을 하세요 어 그러면 애가 VIP가 VIP커스토머가 상위클래스가 하위클래스가 이렇게 혼동을 하는데 명확하게 

그렇게 이해를 하시면 돼요 생성은 다돼요 생성은 다돼는데 하위클래스가  상위클래스의 형으로 변환이 된 

경우에는 애가 억세스할수 있는거 애가 접근할수 있는 거는 뭐만 할수있다. 상위클래스타입에 선언돼 있는

요소들만 할수 있다. 라는거구요 어 이런식으로 계층구조가 여러단계인경우에 당연히 휴먼은 영장류이면서도

휴먼은 포유류이죠 그러면 인간은 메머가 (포유류)가 모든가 내포하고 있는거에요 이휴먼이라는 클래스는 

내부적으로 이영장류와 포유류에 대한 모든내용을 내포하고 있다 라는거 네 그렇게 이해하시면 됩니다. 

우리가 지금까지 애기를 하면서 구현을 했는데 하나구현을 안한게 있어요 뭐를 구현을 안했냐면 VIP

클래스는 요금을 다르게 낸다고 그랬죠 근데 지금 VIP클래스에서 다르게 내는부분을 구현을 안하고

여기보면 할인률이 적용되지 않은 상태로 지금 커스토머에만 구현이 되어있거든요 우리는 VIP쪽에다가

할인률을 적용을 해야 되니까 그거를 어떻게 해야 될지를 재정의부분 오버라이딩을 애기하면서또 

말씀을 드리도록 하겠습니다. 

vc가 가르치는게 뭐냐 